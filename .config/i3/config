include ~/.config/tiling/config

# Need to redefine due to limitations in i3 : https://i3wm.org/docs/userguide.html
set $mod Mod4

# adapted from here https://faq.i3wm.org/question/239/how-do-i-suspendlockscreen-and-logout.1.html
set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdown
mode "$mode_system" {
    bindsym l exec --no-startup-id i3lock, mode "default"
    bindsym e exec --no-startup-id i3-msg exit, mode "default"
    bindsym s exec --no-startup-id i3lock && systemctl suspend, mode "default"
    bindsym h exec --no-startup-id i3lock && systemctl hibernate, mode "default"
    bindsym r exec --no-startup-id systemctl reboot, mode "default"
    bindsym Shift+s exec --no-startup-id systemctl poweroff, mode "default"

    # back to normal: Enter or Escape
    bindsym Return mode "default"
    bindsym Escape mode "default"
}
bindsym $mod+Shift+p mode "$mode_system"

# lock
bindsym $mod+l exec i3lock

# terminal
bindsym $mod+Return exec "alacritty"

# launcher
bindsym $mod+d exec "rofi -modi drun -show drun -theme Monokai"

# screenshot
bindsym $mod+p exec maim -s -u | xclip -selection clipboard -t image/png -i

# keyboard layout
#
# Use Right Alt to add umlauts to `a`, `o` and `u`.
#
# See this: https://unix.stackexchange.com/questions/589245/german-umlauts-on-us-keybaord
#
# Note: loading the custom xkb keymap in ".xkb/symbols/us-german-umlaut" didn't work.
#
exec "setxkbmap -layout \"de(us)\",bg -variant ,phonetic -option 'grp:alt_shift_toggle'"

# notification daemon
exec --no-startup-id dunst

# ------------------------------------------------------------------------------
# Window configuration : `xprop` -> click on window

assign [class="DRIVE Sim End To End "] 4
# Moves the DS2 splash screen to WS 4 (Note the lowercase `t`)
assign [class="DRIVE Sim End to End "] 4
